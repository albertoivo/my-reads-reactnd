{"version":3,"sources":["helper.js","Book.js","Shelf.js","Header.js","Footer.js","ListAllBookshelves.js","BooksAPI.js","SearchBooks.js","NotFound.js","App.js","registerServiceWorker.js","index.js","icons/book-cover.jpg","icons/not-found.jpg"],"names":["shelves","title","shelf","Book","_ref","book","update","react_default","a","createElement","className","href","previewLink","target","rel","alt","src","imageLinks","thumbnail","thumb","value","onChange","event","disabled","map","s","key","react_star_rating_component_default","name","averageRating","authors","join","Shelf","_ref$books","books","id","src_Book","Header","Link","to","Footer","fa","ListAllBookshelves","myBooks","src_Header","src_Shelf","filter","src_Footer","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","fetch","concat","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","search","query","maxResults","data","SearchBooks","state","searchedBooks","loading","_this","setState","BooksAPI","error","bookOnShelf","props","find","b","clearQuery","this","_this2","_this$state","lib","time","handler","type","placeholder","react_spinners","length","Array","Component","NotFound","notfound","BooksApp","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","newBooks","showAlert","alertOptions","offset","position","theme","transition","bookTitle","newShelf","nextShelf","msgAlert","msg","show","_this3","dist_default","assign","ref","Switch","Route","exact","path","render","src_ListAllBookshelves","src_SearchBooks","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","ReactDOM","BrowserRouter","src_App","document","getElementById","URL","process","origin","addEventListener","response","status","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.97d6ceb8.chunk.js","sourcesContent":["export const shelves = [\n  { title: 'Currently Reading', shelf: 'currentlyReading' },\n  { title: 'Want to Read', shelf: 'wantToRead' },\n  { title: 'Read', shelf: 'read' }\n]\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { shelves } from './helper'\nimport StarRatingComponent from 'react-star-rating-component'\nimport thumb from './icons/book-cover.jpg'\n\nconst Book = ({ book, update }) => {\n  return (\n    <div className=\"book\">\n      <div className=\"book-top\">\n        <a href={book.previewLink} target=\"_blank\" rel=\"noopener noreferrer\">\n          <img className=\"book-cover\" alt=\"loading cover...\"\n            src={book.imageLinks ? book.imageLinks.thumbnail : thumb}\n          />\n        </a>\n        <div className=\"book-shelf-changer\">\n          <select\n            value={book.shelf || 'none'}\n            onChange={event => update(book, event.target.value)}\n          >\n            <option value=\"\" disabled>\n              Move to...\n            </option>\n            {shelves.map(s => (<option key={s.shelf} value={s.shelf}>{s.title}</option>))}\n            <option value=\"none\">None</option>\n          </select>\n        </div>\n      </div>\n      <StarRatingComponent name=\"book-rate\" value={book.averageRating} />\n      <div className=\"book-title\">{book.title}</div>\n      <div className=\"book-authors\">\n        {book.authors && book.authors.join(', ')}\n      </div>\n    </div>\n  )\n}\n\nBook.propTypes = {\n  book: PropTypes.shape({\n    previewLink: PropTypes.string,\n    imageLinks: PropTypes.object,\n    averageRating: PropTypes.number,\n    authors: PropTypes.array\n  }).isRequired,\n  update: PropTypes.func.isRequired\n}\n\nexport default Book\n","import React from 'react'\nimport Book from './Book'\nimport PropTypes from 'prop-types'\n\nconst Shelf = ({ title, books = [], update }) => {\n  return (\n    <div className=\"bookshelf\">\n      <h2 className=\"bookshelf-title\">{title}</h2>\n      <div className=\"bookshelf-books\">\n        <ol className=\"books-grid\">\n          {books.map(book => (\n            <li key={book.id}>\n              <Book book={book} update={update} />\n            </li>\n          ))}\n        </ol>\n      </div>\n    </div>\n  )\n}\n\nShelf.propTypes = {\n  title: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  update: PropTypes.func.isRequired\n}\n\nexport default Shelf\n","import React from \"react\"\nimport { Link } from 'react-router-dom'\n\nconst Header = () => (\n  <header id=\"header\" className=\"navbar\">\n    <Link to=\"/\">My Reads</Link>\n  </header>\n)\n\nexport default Header\n","import React from 'react'\nimport {\n  FaFacebook, FaInstagram, FaGithub, FaLinkedinIn\n} from 'react-icons/fa'\n\nconst Footer = () => (\n  <footer>\n    <p>Find me on social media</p>\n    <a href=\"https://www.facebook.com/nossasrotass\" target=\"_blank\" rel=\"noopener noreferrer\"><FaFacebook /></a>\n    <a href=\"https://instagram.com/nossasrotas\" target=\"_blank\" rel=\"noopener noreferrer\"><FaInstagram /></a>\n    <a href=\"https://github.com/albertoivo\" target=\"_blank\" rel=\"noopener noreferrer\"><FaGithub /></a>\n    <a href=\"https://www.linkedin.com/in/alberto-ivo-vieira\" target=\"_blank\" rel=\"noopener noreferrer\"><FaLinkedinIn /></a>\n    <p>\n      Powered by <a href=\"https://albertoivo.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n        AlbertoIvo.github.io</a>\n    </p>\n  </footer>\n)\n\nexport default Footer","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Shelf from './Shelf'\nimport Header from './Header'\nimport Footer from './Footer'\nimport { shelves } from './helper'\nimport PropTypes from 'prop-types'\n\nconst ListAllBookshelves = ({ myBooks, update }) => {\n  return (\n    <div>\n      <Header />\n      <div className=\"list-books-content\">\n        {shelves.map(shelf => {\n          return (\n            <Shelf\n              key={shelf.shelf}\n              title={shelf.title}\n              update={update}\n              books={myBooks.filter(book => book.shelf === shelf.shelf)}\n            />\n          )\n        })}\n      </div>\n      <div className=\"open-search\">\n        <Link to=\"/search\">Search</Link>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nListAllBookshelves.propTypes = {\n  myBooks: PropTypes.array.isRequired,\n  update: PropTypes.func.isRequired\n}\n\nexport default ListAllBookshelves\n","const api = 'https://reactnd-books-api.udacity.com'\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random()\n    .toString(36)\n    .substr(-8)\n\nconst headers = {\n  Accept: 'application/json',\n  Authorization: token\n}\n\nexport const get = bookId =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query, maxResults })\n  })\n    .then(res => res.json())\n    .then(data => data.books)\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport Shelf from './Shelf'\nimport * as BooksAPI from './BooksAPI'\nimport { Debounce } from 'react-throttle'\nimport { SyncLoader } from 'react-spinners'\n\nclass SearchBooks extends Component {\n  state = {\n    query: '',\n    searchedBooks: [],\n    loading: false\n  }\n\n  clearQuery() {\n    this.setState({ query: '', searchedBooks: [], loading: false })\n  }\n\n  search = query => {\n    this.setState({ query: query, loading: true })\n    if (query) {\n      BooksAPI.search(query).then(searchedBooks => {\n        if (!searchedBooks.error) {\n          searchedBooks.map(book => {\n            const bookOnShelf = this.props.books.find(b => b.id === book.id)\n            if (bookOnShelf) {\n              book.shelf = bookOnShelf.shelf\n            }\n            return book\n          })\n        }\n        this.setState({ searchedBooks, loading: false })\n      })\n    } else {\n      this.clearQuery()\n    }\n  }\n\n  render() {\n    const { searchedBooks, loading } = this.state\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link to=\"/\" className=\"close-search\">\n            Close\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            <Debounce time=\"400\" handler=\"onChange\">\n              <input\n                type=\"text\"\n                placeholder=\"Search by title or author\"\n                onChange={event => this.search(event.target.value)}\n              />\n            </Debounce>\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <div className=\"loading\">\n            <SyncLoader loading={loading && searchedBooks.length === 0} />\n          </div>\n          {searchedBooks && searchedBooks instanceof Array ? (\n            <Shelf\n              title={searchedBooks.length > 0 && 'Search Results'}\n              update={this.props.update}\n              books={searchedBooks}\n            />\n          ) : (\n            <Shelf title={\"Nothing's found. Sorry!\"} />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nSearchBooks.propTypes = {\n  books: PropTypes.array.isRequired,\n  update: PropTypes.func.isRequired\n}\n\nexport default SearchBooks\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport notfound from \"./icons/not-found.jpg\"\n\nconst NotFound = () => (\n  <div>\n    <Header />\n    <div className=\"center\">\n      <h1>404 - Page not found</h1>\n      <p>\n        Sorry, we can’t find that page that you’re looking for. You can try\n        again by going <Link to=\"/\">Home</Link> back to the homepage.\n      </p>\n      <div>\n        <img className=\"not-found\" src={notfound} alt=\"not-found\" />\n      </div>\n    </div>\n    <Footer />\n  </div>\n)\n\nexport default NotFound;\n","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport './App.css'\nimport ListAllBookshelves from './ListAllBookshelves'\nimport SearchBooks from './SearchBooks'\nimport NotFound from './NotFound'\nimport * as BooksAPI from './BooksAPI'\nimport AlertContainer from 'react-alert'\nimport { shelves } from './helper'\n\nclass BooksApp extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      myBooks: []\n    }\n  }\n\n  componentDidMount() {\n    BooksAPI.getAll().then(books => {\n      this.setState({ myBooks: books })\n    })\n  }\n\n  update = (book, shelf) => {\n    BooksAPI.update(book, shelf).then(newBooks => {\n      book.shelf = shelf\n      this.setState({\n        myBooks: this.state.myBooks.filter(b => b.id !== book.id).concat(book)\n      })\n      this.showAlert(book.title, shelf)\n    })\n  }\n\n  alertOptions = {\n    offset: 14,\n    position: 'top right',\n    theme: 'dark',\n    time: 100,\n    transition: 'scale'\n  }\n\n  showAlert = (bookTitle, newShelf) => {\n    const shelf = shelves.find(shelf => shelf.shelf === newShelf)\n    const nextShelf = shelf ? shelf.title : 'none'\n    const msgAlert =\n      nextShelf === 'none'\n        ? `${bookTitle} is off the shelves`\n        : `${bookTitle} is now on the shelf ${nextShelf}`\n\n    this.msg.show(msgAlert, {\n      time: 5000,\n      type: 'success'\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <AlertContainer\n          ref={msgAlert => (this.msg = msgAlert)}\n          {...this.alertOptions}\n        />\n        <Switch>\n          <Route exact path=\"/\" render={() => (\n              <ListAllBookshelves myBooks={this.state.myBooks} update={this.update} />\n            )}\n          />\n          <Route path=\"/search\" render={() => (\n              <SearchBooks books={this.state.myBooks} update={this.update} />\n            )}\n          />\n          <Route component={NotFound} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default BooksApp\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\nregisterServiceWorker()\n/* the application itself reloads, but not the page. */\n//if (module.hot) {\n//  module.hot.accept();\n//}","module.exports = __webpack_public_path__ + \"static/media/book-cover.c4d111ec.jpg\";","module.exports = __webpack_public_path__ + \"static/media/not-found.536686b6.jpg\";"],"sourceRoot":""}